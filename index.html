<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Office ‚Äî Agent HQ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #1a1a2e;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .office-container {
            position: relative;
            width: 900px;
            height: 600px;
            background: linear-gradient(135deg, #f5f0e8 0%, #e8e0d5 100%);
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            overflow: hidden;
        }
        
        /* Floor */
        .floor {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 70%;
            background: linear-gradient(180deg, #c9a66b 0%, #b8956a 100%);
        }
        
        .floor::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                90deg,
                transparent,
                transparent 60px,
                rgba(0,0,0,0.05) 60px,
                rgba(0,0,0,0.05) 61px
            );
        }
        
        /* Wall */
        .wall {
            position: absolute;
            top: 0;
            width: 100%;
            height: 35%;
            background: linear-gradient(180deg, #e8dfd0 0%, #ddd5c5 100%);
        }
        
        /* Bookshelf */
        .bookshelf {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 500px;
            height: 150px;
            background: #5d4037;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            padding: 8px;
            gap: 4px;
        }
        
        .shelf-row {
            flex: 1;
            display: flex;
            gap: 3px;
            align-items: flex-end;
            padding: 0 5px;
        }
        
        .book {
            height: 80%;
            width: 12px;
            border-radius: 2px 2px 0 0;
        }
        
        /* Pool Table */
        .pool-table {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 180px;
            height: 100px;
            background: #1b5e20;
            border: 8px solid #5d4037;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        
        .pool-balls {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 12px;
        }
        
        /* Couch */
        .couch {
            position: absolute;
            bottom: 120px;
            left: 40px;
            width: 120px;
            height: 50px;
            background: #2e7d32;
            border-radius: 8px 8px 4px 4px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .couch::before {
            content: '';
            position: absolute;
            bottom: 100%;
            left: 5px;
            right: 5px;
            height: 30px;
            background: #388e3c;
            border-radius: 4px 4px 0 0;
        }
        
        /* Armchairs */
        .armchair {
            position: absolute;
            width: 45px;
            height: 40px;
            background: #5d4037;
            border-radius: 8px 8px 4px 4px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        }
        
        .armchair::before {
            content: '';
            position: absolute;
            bottom: 100%;
            left: 8px;
            right: 8px;
            height: 20px;
            background: #6d4c41;
            border-radius: 4px 4px 0 0;
        }
        
        .armchair::after {
            content: 'ü™ë';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 16px;
            opacity: 0.7;
        }
        
        /* Birdcage */
        .birdcage {
            position: absolute;
            bottom: 100px;
            right: 60px;
            width: 50px;
            height: 70px;
            border: 3px solid #ffd700;
            border-radius: 25px 25px 0 0;
            background: rgba(255,255,255,0.1);
        }
        
        .birdcage::after {
            content: 'ü¶ú';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
        }
        
        /* Kitchen */
        .kitchen {
            position: absolute;
            top: 60px;
            right: 20px;
            width: 100px;
            height: 80px;
            background: #6d4c41;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        .kitchen::after {
            content: '‚òï';
            font-size: 24px;
        }
        
        /* Mail Chute */
        .mail-chute {
            position: absolute;
            bottom: 20px;
            right: 200px;
            width: 60px;
            height: 120px;
            background: linear-gradient(180deg, #1976d2 0%, #0d47a1 100%);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        
        .mail-chute-tube {
            width: 20px;
            flex: 1;
            background: linear-gradient(90deg, #333 0%, #666 50%, #333 100%);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .mail-chute-slot {
            width: 40px;
            height: 15px;
            background: #111;
            border-radius: 4px;
            margin-top: 5px;
        }
        
        .mail-chute-label {
            font-size: 8px;
            color: white;
            text-align: center;
            margin-top: 5px;
            font-weight: bold;
        }
        
        /* Message animation */
        .message-flying {
            position: absolute;
            width: 15px;
            height: 10px;
            background: white;
            border-radius: 2px;
            animation: flyUp 0.8s ease-out forwards;
        }
        
        @keyframes flyUp {
            0% { bottom: 30px; opacity: 1; }
            100% { bottom: 150px; opacity: 0; }
        }
        
        /* Workstations */
        .workstation-row {
            position: absolute;
            bottom: 10px;
            left: 20px;
            display: flex;
            gap: 10px;
        }
        
        .workstation {
            width: 60px;
            height: 45px;
            background: #8d6e63;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
        }
        
        .workstation:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        
        .workstation.working {
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.6);
        }
        
        .workstation .ticket-badge {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            background: #1976d2;
            color: white;
            font-size: 8px;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 3px;
            white-space: nowrap;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            animation: ticketFloat 2s ease-in-out infinite;
            display: none;
        }
        
        .workstation.working .ticket-badge {
            display: block;
        }
        
        @keyframes ticketFloat {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-3px); }
        }
        
        .agent-icon {
            font-size: 20px;
        }
        
        .agent-name {
            font-size: 7px;
            color: white;
            margin-top: 2px;
        }
        
        .status-dot {
            position: absolute;
            top: 3px;
            right: 3px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #9e9e9e;
        }
        
        .status-dot.working { background: #4caf50; }
        .status-dot.idle { background: #ff9800; }
        
        /* Floating Agents */
        .floating-agent {
            position: absolute;
            font-size: 24px;
            transition: all 1s ease-in-out;
            cursor: pointer;
        }
        
        .floating-agent:hover::after {
            content: attr(data-name);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            white-space: nowrap;
        }
        
        /* Plants */
        .plant {
            position: absolute;
            font-size: 24px;
        }
        
        /* Status Panel */
        .status-panel {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.85);
            color: white;
            padding: 12px;
            border-radius: 8px;
            font-size: 11px;
            max-width: 180px;
        }
        
        .status-panel h3 {
            font-size: 12px;
            margin-bottom: 8px;
            color: #4fc3f7;
        }
        
        .status-item {
            display: flex;
            align-items: center;
            gap: 6px;
            margin: 4px 0;
        }
        
        .status-item .icon {
            font-size: 14px;
        }
        
        /* Cots */
        .cots-area {
            position: absolute;
            top: 180px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .cot {
            width: 70px;
            height: 25px;
            background: linear-gradient(180deg, #8d6e63 0%, #6d4c41 100%);
            border-radius: 4px;
            position: relative;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .cot::before {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            right: 3px;
            bottom: 3px;
            background: #e8e0d5;
            border-radius: 2px;
        }
        
        .cot .pillow {
            position: absolute;
            top: 5px;
            left: 5px;
            width: 15px;
            height: 12px;
            background: #fff;
            border-radius: 3px;
            z-index: 1;
        }
        
        .cot .sleeping-agent {
            position: absolute;
            top: -5px;
            left: 20px;
            font-size: 16px;
            z-index: 2;
        }
        
        .cot .zzz {
            position: absolute;
            top: -12px;
            right: 5px;
            font-size: 10px;
            color: #666;
            animation: zzz 2s ease-in-out infinite;
        }
        
        @keyframes zzz {
            0%, 100% { opacity: 0.3; transform: translateY(0); }
            50% { opacity: 1; transform: translateY(-3px); }
        }
        
        /* Door */
        .door {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 80px;
            background: #5d4037;
            border-radius: 4px 4px 0 0;
            border: 3px solid #4e342e;
        }
        
        .door-handle {
            position: absolute;
            right: 8px;
            top: 50%;
            width: 8px;
            height: 8px;
            background: #ffd700;
            border-radius: 50%;
        }
        
        /* Window */
        .window {
            position: absolute;
            top: 40px;
            left: 30px;
            width: 80px;
            height: 60px;
            background: linear-gradient(180deg, #87ceeb 0%, #b0e0e6 100%);
            border: 4px solid #f5f5f5;
            border-radius: 4px;
        }
        
        /* Kanban Board */
        .kanban-board {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 60px;
            height: 40px;
            background: #2c3e50;
            border: 2px solid #34495e;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        
        .kanban-board:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }
        
        /* Kanban Modal */
        .kanban-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .kanban-container {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            width: 95%;
            max-width: 1400px;
            height: 85vh;
            box-shadow: 0 20px 60px rgba(0,0,0,0.6);
            display: flex;
            flex-direction: column;
        }
        
        .kanban-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #dee2e6;
        }
        
        .kanban-title {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin: 0;
        }
        
        .close-kanban {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: background 0.2s;
        }
        
        .close-kanban:hover {
            background: #c0392b;
        }
        
        .kanban-columns {
            display: flex;
            gap: 20px;
            flex: 1;
            overflow-x: auto;
            padding-bottom: 10px;
        }
        
        .kanban-column {
            flex: 1;
            min-width: 280px;
            background: #ffffff;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }
        
        .column-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .backlog-header { background: #e3f2fd; color: #1976d2; }
        .progress-header { background: #fff3e0; color: #f57c00; }
        .review-header { background: #f3e5f5; color: #7b1fa2; }
        .done-header { background: #e8f5e8; color: #388e3c; }
        
        .column-count {
            background: rgba(0,0,0,0.1);
            color: inherit;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: normal;
        }
        
        .task-list {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 12px;
            min-height: 200px;
            padding: 8px;
            border-radius: 6px;
            border: 2px dashed transparent;
            transition: all 0.3s ease;
        }
        
        .task-list.drag-over {
            border-color: #007bff;
            background: rgba(0,123,255,0.05);
        }
        
        .task-card {
            background: white;
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: grab;
            transition: all 0.2s ease;
            border-left: 4px solid #ddd;
        }
        
        .task-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }
        
        .task-card.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
            cursor: grabbing;
        }
        
        .task-card.high { border-left-color: #e74c3c; }
        .task-card.medium { border-left-color: #f39c12; }
        .task-card.low { border-left-color: #27ae60; }
        
        .task-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .task-title {
            font-weight: 600;
            color: #2c3e50;
            font-size: 14px;
            line-height: 1.3;
        }
        
        .task-id {
            font-size: 11px;
            color: #7f8c8d;
            background: #ecf0f1;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }
        
        .task-footer {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-top: 8px;
        }
        
        .task-assignee {
            font-size: 18px;
        }
        
        .task-tags {
            display: flex;
            gap: 4px;
        }
        
        .task-tag {
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 3px;
            background: #ecf0f1;
            color: #7f8c8d;
        }
        
        .add-task-btn {
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            color: #6c757d;
            padding: 12px;
            text-align: center;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
        }
        
        .add-task-btn:hover {
            background: #e9ecef;
            border-color: #adb5bd;
            color: #495057;
        }
    </style>
</head>
<body>
    <div class="office-container">
        <div class="wall"></div>
        <div class="floor"></div>
        
        <!-- Window -->
        <div class="window"></div>
        
        <!-- Kanban Board Access -->
        <div class="kanban-board" onclick="openKanban()" title="Open Kanban Board">
            üìã
        </div>
        
        <!-- Bookshelf -->
        <div class="bookshelf">
            <div class="shelf-row" id="shelf1"></div>
            <div class="shelf-row" id="shelf2"></div>
            <div class="shelf-row" id="shelf3"></div>
        </div>
        
        <!-- Kitchen -->
        <div class="kitchen"></div>
        
        <!-- Pool Table -->
        <div class="pool-table">
            <div class="pool-balls">üé±</div>
        </div>
        
        <!-- Couch -->
        <div class="couch"></div>
        
        <!-- Armchairs -->
        <div class="armchair" style="bottom: 200px; left: 180px;"></div>
        <div class="armchair" style="bottom: 200px; left: 240px;"></div>
        
        <!-- Birdcage -->
        <div class="birdcage"></div>
        
        <!-- Mail Chute -->
        <div class="mail-chute" id="mailChute" onclick="sendMail()">
            <div class="mail-chute-tube"></div>
            <div class="mail-chute-slot"></div>
            <div class="mail-chute-label">TELEGRAM</div>
        </div>
        
        <!-- Cots for sleeping agents -->
        <div class="cots-area">
            <div class="cot" id="cot1">
                <div class="pillow"></div>
            </div>
            <div class="cot" id="cot2">
                <div class="pillow"></div>
            </div>
            <div class="cot" id="cot3">
                <div class="pillow"></div>
                <span class="sleeping-agent">ü¶î</span>
                <span class="zzz">üí§</span>
            </div>
            <div class="cot" id="cot4">
                <div class="pillow"></div>
            </div>
            <div class="cot" id="cot5">
                <div class="pillow"></div>
                <span class="sleeping-agent">ü¶â</span>
                <span class="zzz">üí§</span>
            </div>
            <div class="cot" id="cot6">
                <div class="pillow"></div>
            </div>
            <div class="cot" id="cot7">
                <div class="pillow"></div>
            </div>
        </div>
        
        <!-- Plants -->
        <div class="plant" style="bottom: 180px; left: 170px;">ü™¥</div>
        <div class="plant" style="bottom: 180px; right: 150px;">ü™¥</div>
        <div class="plant" style="bottom: 80px; left: 180px;">üåø</div>
        
        <!-- Door -->
        <div class="door">
            <div class="door-handle"></div>
        </div>
        
        <!-- Workstations -->
        <div class="workstation-row">
            <div class="workstation working" data-agent="alice">
                <div class="ticket-badge">OFFICE-1-1</div>
                <div class="status-dot working"></div>
                <span class="agent-icon">ü¶ú</span>
                <span class="agent-name">Alice</span>
            </div>
            <div class="workstation working" data-agent="alpha">
                <div class="ticket-badge">OFFICE-1-2</div>
                <div class="status-dot working"></div>
                <span class="agent-icon">üê∫</span>
                <span class="agent-name">Alpha</span>
            </div>
            <div class="workstation" data-agent="beta">
                <div class="ticket-badge"></div>
                <div class="status-dot"></div>
                <span class="agent-icon">ü¶ä</span>
                <span class="agent-name">Beta</span>
            </div>
            <div class="workstation" data-agent="gamma">
                <div class="ticket-badge"></div>
                <div class="status-dot"></div>
                <span class="agent-icon">ü¶î</span>
                <span class="agent-name">Gamma</span>
            </div>
            <div class="workstation" data-agent="delta">
                <div class="ticket-badge"></div>
                <div class="status-dot"></div>
                <span class="agent-icon">ü¶â</span>
                <span class="agent-name">Delta</span>
            </div>
            <div class="workstation" data-agent="epsilon">
                <div class="ticket-badge"></div>
                <div class="status-dot"></div>
                <span class="agent-icon">üêô</span>
                <span class="agent-name">Epsilon</span>
            </div>
            <div class="workstation working" data-agent="zeta">
                <div class="ticket-badge">OFFICE-1-4</div>
                <div class="status-dot working"></div>
                <span class="agent-icon">ü¶Ñ</span>
                <span class="agent-name">Zeta</span>
            </div>
            <div class="workstation" data-agent="eta">
                <div class="ticket-badge"></div>
                <div class="status-dot"></div>
                <span class="agent-icon">üêº</span>
                <span class="agent-name">Eta</span>
            </div>
            <div class="workstation" data-agent="theta">
                <div class="ticket-badge"></div>
                <div class="status-dot"></div>
                <span class="agent-icon">ü¶ù</span>
                <span class="agent-name">Theta</span>
            </div>
        </div>
        
        <!-- Floating agents (when not at desk) -->
        <div class="floating-agent" id="agentAlpha" data-name="Alpha" style="display: none;">üê∫</div>
        
        <!-- Status Panel -->
        <div class="status-panel">
            <h3>üìä Office Status</h3>
            <div class="status-item"><span class="icon">ü¶ú</span> Alice ‚Äî Working</div>
            <div class="status-item"><span class="icon">üê∫</span> Alpha ‚Äî Idle</div>
            <div class="status-item"><span class="icon">ü¶ä</span> Beta ‚Äî Off</div>
        </div>
    </div>
    
    <!-- Kanban Modal -->
    <div class="kanban-modal" id="kanbanModal">
        <div class="kanban-container">
            <div class="kanban-header">
                <h2 class="kanban-title">üè¢ Office Kanban Board</h2>
                <button class="close-kanban" onclick="closeKanban()">‚úï Close</button>
            </div>
            <div class="kanban-columns">
                <div class="kanban-column">
                    <div class="column-header backlog-header">
                        <span>üìã Backlog</span>
                        <span class="column-count" id="backlog-count">0</span>
                    </div>
                    <div class="task-list" id="backlog" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <div class="add-task-btn" onclick="addTask('backlog')">+ Add Task</div>
                    </div>
                </div>
                
                <div class="kanban-column">
                    <div class="column-header progress-header">
                        <span>‚ö° In Progress</span>
                        <span class="column-count" id="progress-count">0</span>
                    </div>
                    <div class="task-list" id="progress" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <div class="add-task-btn" onclick="addTask('progress')">+ Add Task</div>
                    </div>
                </div>
                
                <div class="kanban-column">
                    <div class="column-header review-header">
                        <span>üëÄ Review</span>
                        <span class="column-count" id="review-count">0</span>
                    </div>
                    <div class="task-list" id="review" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <div class="add-task-btn" onclick="addTask('review')">+ Add Task</div>
                    </div>
                </div>
                
                <div class="kanban-column">
                    <div class="column-header done-header">
                        <span>‚úÖ Done</span>
                        <span class="column-count" id="done-count">0</span>
                    </div>
                    <div class="task-list" id="done" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <div class="add-task-btn" onclick="addTask('done')">+ Add Task</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Generate colorful books
        const bookColors = ['#e53935', '#1e88e5', '#43a047', '#fb8c00', '#8e24aa', '#00acc1', '#6d4c41', '#546e7a'];
        
        function generateBooks() {
            for (let i = 1; i <= 3; i++) {
                const shelf = document.getElementById('shelf' + i);
                const bookCount = 20 + Math.floor(Math.random() * 10);
                for (let j = 0; j < bookCount; j++) {
                    const book = document.createElement('div');
                    book.className = 'book';
                    book.style.background = bookColors[Math.floor(Math.random() * bookColors.length)];
                    book.style.height = (60 + Math.random() * 30) + '%';
                    book.style.width = (8 + Math.random() * 8) + 'px';
                    shelf.appendChild(book);
                }
            }
        }
        
        // Mail chute animation
        function sendMail() {
            const chute = document.getElementById('mailChute');
            const message = document.createElement('div');
            message.className = 'message-flying';
            chute.appendChild(message);
            
            setTimeout(() => message.remove(), 800);
        }
        
        // Move agent to location
        function moveAgent(agentId, x, y) {
            const agent = document.getElementById(agentId);
            if (agent) {
                agent.style.display = 'block';
                agent.style.left = x + 'px';
                agent.style.top = y + 'px';
            }
        }
        
        // Initialize
        generateBooks();
        
        // Demo: move Alpha around occasionally
        setInterval(() => {
            const positions = [
                { x: 400, y: 280 },  // pool table
                { x: 100, y: 350 },  // couch
                { x: 750, y: 150 },  // kitchen
            ];
            const pos = positions[Math.floor(Math.random() * positions.length)];
            moveAgent('agentAlpha', pos.x, pos.y);
        }, 5000);
        
        // Kanban Board Functionality
        let tasks = [
            {
                id: 'OFFICE-1-1',
                title: 'Build Office Canvas Interface',
                assignee: 'ü¶ú',
                priority: 'high',
                tags: ['frontend', 'canvas'],
                column: 'progress'
            },
            {
                id: 'OFFICE-1-2',
                title: 'Create Kanban Board Component',
                assignee: 'üê∫',
                priority: 'high',
                tags: ['frontend', 'kanban'],
                column: 'progress'
            },
            {
                id: 'OFFICE-1-3',
                title: 'Add Drag & Drop Functionality',
                assignee: 'üê∫',
                priority: 'medium',
                tags: ['javascript', 'UX'],
                column: 'backlog'
            },
            {
                id: 'OFFICE-1-4',
                title: 'Deploy to GitHub Pages',
                assignee: 'ü¶Ñ',
                priority: 'low',
                tags: ['deployment', 'github'],
                column: 'backlog'
            },
            {
                id: 'OFFICE-2-1',
                title: 'Add Agent Status Updates',
                assignee: 'ü¶ä',
                priority: 'medium',
                tags: ['backend', 'realtime'],
                column: 'backlog'
            },
            {
                id: 'OFFICE-2-2',
                title: 'Create Task Assignment System',
                assignee: 'ü¶î',
                priority: 'low',
                tags: ['backend', 'workflow'],
                column: 'backlog'
            }
        ];
        
        let draggedElement = null;
        
        function openKanban() {
            document.getElementById('kanbanModal').style.display = 'flex';
            renderTasks();
        }
        
        function closeKanban() {
            document.getElementById('kanbanModal').style.display = 'none';
        }
        
        function renderTasks() {
            const columns = ['backlog', 'progress', 'review', 'done'];
            
            columns.forEach(column => {
                const taskList = document.getElementById(column);
                const addBtn = taskList.querySelector('.add-task-btn');
                
                // Clear existing tasks (but keep add button)
                Array.from(taskList.children).forEach(child => {
                    if (!child.classList.contains('add-task-btn')) {
                        child.remove();
                    }
                });
                
                // Add tasks for this column
                const columnTasks = tasks.filter(task => task.column === column);
                columnTasks.forEach(task => {
                    const taskElement = createTaskElement(task);
                    taskList.insertBefore(taskElement, addBtn);
                });
                
                // Update count
                document.getElementById(column + '-count').textContent = columnTasks.length;
            });
        }
        
        function createTaskElement(task) {
            const taskDiv = document.createElement('div');
            taskDiv.className = `task-card ${task.priority}`;
            taskDiv.draggable = true;
            taskDiv.dataset.taskId = task.id;
            taskDiv.ondragstart = drag;
            
            const tagsHtml = task.tags.map(tag => `<span class="task-tag">${tag}</span>`).join('');
            
            taskDiv.innerHTML = `
                <div class="task-header">
                    <div class="task-title">${task.title}</div>
                    <div class="task-id">${task.id}</div>
                </div>
                <div class="task-footer">
                    <div class="task-assignee">${task.assignee}</div>
                    <div class="task-tags">${tagsHtml}</div>
                </div>
            `;
            
            return taskDiv;
        }
        
        function drag(ev) {
            draggedElement = ev.target;
            ev.target.classList.add('dragging');
        }
        
        function allowDrop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.add('drag-over');
        }
        
        function drop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.remove('drag-over');
            
            if (draggedElement && ev.currentTarget.classList.contains('task-list')) {
                const taskId = draggedElement.dataset.taskId;
                const newColumn = ev.currentTarget.id;
                const addBtn = ev.currentTarget.querySelector('.add-task-btn');
                
                // Update task data
                const task = tasks.find(t => t.id === taskId);
                if (task) {
                    task.column = newColumn;
                }
                
                // Move element
                ev.currentTarget.insertBefore(draggedElement, addBtn);
                draggedElement.classList.remove('dragging');
                
                // Update counts
                renderTasks();
            }
            
            // Clean up
            document.querySelectorAll('.task-list').forEach(list => {
                list.classList.remove('drag-over');
            });
            document.querySelectorAll('.task-card').forEach(card => {
                card.classList.remove('dragging');
            });
            
            draggedElement = null;
        }
        
        function addTask(column) {
            const title = prompt('Enter task title:');
            if (!title) return;
            
            const assignees = ['ü¶ú', 'üê∫', 'ü¶ä', 'ü¶î', 'ü¶â', 'üêô', 'ü¶Ñ', 'üêº', 'ü¶ù'];
            const priorities = ['low', 'medium', 'high'];
            const tagOptions = ['frontend', 'backend', 'design', 'testing', 'deployment', 'documentation'];
            
            const newTask = {
                id: 'TASK-' + Math.random().toString(36).substr(2, 6).toUpperCase(),
                title: title,
                assignee: assignees[Math.floor(Math.random() * assignees.length)],
                priority: priorities[Math.floor(Math.random() * priorities.length)],
                tags: [tagOptions[Math.floor(Math.random() * tagOptions.length)]],
                column: column
            };
            
            tasks.push(newTask);
            renderTasks();
        }
        
        // Close modal when clicking outside
        document.getElementById('kanbanModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeKanban();
            }
        });
        
        // Prevent drag events from bubbling to modal
        document.addEventListener('dragover', function(e) {
            if (!e.target.classList.contains('task-list')) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
